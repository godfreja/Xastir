language: c

script:
  - ./bootstrap.sh
  - ./configure CPPFLAGS="-I/usr/include/geotiff"
  - make
  - sudo make install

matrix:
  include:
    - os: linux
      name: "Linux full featured with GraphicsMagick"
      addons:
        apt:
          packages:
            - graphicsmagick
            - libmotif-dev
            - libcurl4-openssl-dev
            - libpcre3-dev
            - libproj-dev
            - libdb5.3-dev
            - libax25-dev
            - shapelib
            - libshp-dev
            - festival
            - festival-dev
            - libgeotiff-dev
            - libgraphicsmagick1-dev
            - gpsman
            - gpsmanshp
    - os: linux
      name: "Linux light with ImageMagick"
      addons:
        apt:
          packages:
            - imagemagick
            - libmotif-dev
            - libcurl4-openssl-dev
            - libpcre3-dev
            - libproj-dev
            - libdb5.3-dev
            - shapelib
            - libshp-dev
            - libmagickcore-dev
    - os: macos
      name: "MacOS"
      before_script: # For some reason the homebrew addon isn't work so do it manually 
        - brew install berkeley-db graphicsmagick graphicsmagick openmotif pcre proj shapelib wget 
